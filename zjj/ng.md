Nginx 作为一个基于 C 实现的高性能 Web 服务器，可以通过系列算法解决上述的负载均衡问题。并且由于它具有高并发、高可靠性、高扩展性、开源等特点，成为开发人员常用的反向代理工具。

https://segmentfault.com/a/1190000016835136

# 正向代理（Forward Proxy）
vpn使用访问Google时，客户端把请求发给代理服务器，由代理服务器代替它请求 Google，最终再将响应返回给客户端。这便是一次正向代理的过程，该过程中服务器并不知道真正发出请求的是谁。

# 反向代理（Reverse Proxy）
隐藏了服务器的信息，它代理的是服务器端，代其接收请求。换句话说，反向代理的过程中，客户端并不知道具体是哪台服务器处理了自己的请求。

# Nginx 负载均衡常用算法

- 轮询 （round-robin)：每个请求按时间顺序逐一分配到不同的服务器处理。  
特点：对于服务器性能不同的集群而言，该算法容易引发资源分配不合理等问题。

- 加权轮询：每个服务器会有各自的 weight。一般情况下，weight 的值越大意味着该服务器的性能越好，可以承载更多的请求。该算法中，客户端的请求按权值比例分配，当一个请求到达时，优先为其分配权值最大的服务器。


- IP 哈希（IP hash）：依据发出请求的客户端 IP 的 hash 值来分配服务器，该算法可以保证同 IP 发出的请求映射到同一服务器，或者具有相同 hash 值的不同 IP 映射到同一服务器。  
特点：解决了集群部署环境下 Session 不共享的问题。                 

- url_hash ：根据请求的 URL 的 hash 值来分配服务器。

- 最小连接数（Least Connections）：请求出现时，遍历服务器节点列表并选取其中连接数最小的一台服务器来响应当前请求。连接数可以理解为当前处理的请求数。

